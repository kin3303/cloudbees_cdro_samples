<?xml version="1.0" encoding="UTF-8"?>
<exportedData version="107" buildLabel="build_10.4_153852_2022.03.22_08:16:02" buildVersion="10.4.2.153852" passkey="9d223e54b763614904254e63b3a6b0e7eb0c89a9">
  <exportPath>/projects/Guestbook</exportPath>
  <project>
    <projectName>Guestbook</projectName>
    <resourceName>local</resourceName>
    <tracked>0</tracked>
    <workspaceName>default</workspaceName>
    <acl>
      <inheriting>1</inheriting>
      <tracked>0</tracked>
      <aclEntry>
        <allowChangePermissions>1</allowChangePermissions>
        <allowExecute>1</allowExecute>
        <allowModify>1</allowModify>
        <allowRead>1</allowRead>
        <denyChangePermissions>0</denyChangePermissions>
        <denyExecute>0</denyExecute>
        <denyModify>0</denyModify>
        <denyRead>0</denyRead>
        <principalName>project: Guestbook</principalName>
        <principalType>user</principalType>
        <tracked>0</tracked>
      </aclEntry>
    </acl>
    <propertySheet>
      <credentialProtected>0</credentialProtected>
      <tracked>0</tracked>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
    </propertySheet>
    <credentialProvider>
      <credentialProviderName>vault</credentialProviderName>
      <authMethodsMapping></authMethodsMapping>
      <description></description>
      <namespace></namespace>
      <password>dev</password>
      <providerType>HASHICORP</providerType>
      <roleId></roleId>
      <secretEnginePath>jenkins</secretEnginePath>
      <secretEngineType>KV2</secretEngineType>
      <secretId></secretId>
      <serverUrl>https://vault.idtplateer.com</serverUrl>
      <token></token>
      <tracked>0</tracked>
      <userName>dev</userName>
      <acl>
        <inheriting>0</inheriting>
        <tracked>0</tracked>
        <aclEntry>
          <allowChangePermissions>0</allowChangePermissions>
          <allowExecute>0</allowExecute>
          <allowModify>0</allowModify>
          <allowRead>1</allowRead>
          <denyChangePermissions>0</denyChangePermissions>
          <denyExecute>0</denyExecute>
          <denyModify>0</denyModify>
          <denyRead>0</denyRead>
          <principalName>Everyone</principalName>
          <principalType>group</principalType>
          <tracked>0</tracked>
        </aclEntry>
      </acl>
    </credentialProvider>
    <credential>
      <credentialName>harbor</credentialName>
      <credentialType>LOCAL</credentialType>
      <description></description>
      <password>L8PS9XyZT8/8LwZkDYN/TQ==</password>
      <secretPath></secretPath>
      <tracked>0</tracked>
      <userName>admin</userName>
      <acl>
        <inheriting>0</inheriting>
        <tracked>0</tracked>
        <aclEntry>
          <allowChangePermissions>0</allowChangePermissions>
          <allowExecute>0</allowExecute>
          <allowModify>0</allowModify>
          <allowRead>1</allowRead>
          <denyChangePermissions>0</denyChangePermissions>
          <denyExecute>0</denyExecute>
          <denyModify>0</denyModify>
          <denyRead>0</denyRead>
          <principalName>Everyone</principalName>
          <principalType>group</principalType>
          <tracked>0</tracked>
        </aclEntry>
        <aclEntry>
          <allowChangePermissions>1</allowChangePermissions>
          <allowExecute>1</allowExecute>
          <allowModify>1</allowModify>
          <allowRead>1</allowRead>
          <denyChangePermissions>0</denyChangePermissions>
          <denyExecute>0</denyExecute>
          <denyModify>0</denyModify>
          <denyRead>0</denyRead>
          <principalName>admin</principalName>
          <principalType>user</principalType>
          <tracked>0</tracked>
        </aclEntry>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
    </credential>
    <credential>
      <credentialName>harbor_cred</credentialName>
      <credentialProviderName>vault</credentialProviderName>
      <credentialProviderProjectName>Guestbook</credentialProviderProjectName>
      <credentialType>EXTERNAL</credentialType>
      <description></description>
      <secretPath>harbor_cred/password</secretPath>
      <tracked>0</tracked>
      <userName>admin</userName>
      <acl>
        <inheriting>0</inheriting>
        <tracked>0</tracked>
        <aclEntry>
          <allowChangePermissions>0</allowChangePermissions>
          <allowExecute>0</allowExecute>
          <allowModify>0</allowModify>
          <allowRead>1</allowRead>
          <denyChangePermissions>0</denyChangePermissions>
          <denyExecute>0</denyExecute>
          <denyModify>0</denyModify>
          <denyRead>0</denyRead>
          <principalName>Everyone</principalName>
          <principalType>group</principalType>
          <tracked>0</tracked>
        </aclEntry>
        <aclEntry>
          <allowChangePermissions>1</allowChangePermissions>
          <allowExecute>1</allowExecute>
          <allowModify>1</allowModify>
          <allowRead>1</allowRead>
          <denyChangePermissions>0</denyChangePermissions>
          <denyExecute>0</denyExecute>
          <denyModify>0</denyModify>
          <denyRead>0</denyRead>
          <principalName>admin</principalName>
          <principalType>user</principalType>
          <tracked>0</tracked>
        </aclEntry>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
    </credential>
    <pluginConfiguration>
      <pluginConfigurationName>helmcfg</pluginConfigurationName>
      <description></description>
      <pluginKey>EC-Helm</pluginKey>
      <tracked>0</tracked>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <fields>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <property>
          <propertyName>checkConnectionResource</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>local</value>
        </property>
        <property>
          <propertyName>createKubeconfig</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>0</value>
        </property>
        <property>
          <propertyName>debugLevel</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>0</value>
        </property>
        <property>
          <propertyName>helmPath</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>/usr/local/bin/helm</value>
        </property>
        <property>
          <propertyName>helmVersion</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>3</value>
        </property>
        <property>
          <propertyName>kubectlExecutablePath</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>/usr/local/bin/kubectl</value>
        </property>
      </fields>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
    </pluginConfiguration>
    <pluginConfiguration>
      <pluginConfigurationName>kubecfg</pluginConfigurationName>
      <description></description>
      <pluginKey>EC-Kubectl</pluginKey>
      <tracked>0</tracked>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <fields>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <property>
          <propertyName>kubeconfigSource</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>kubeconfigDefault</value>
        </property>
        <property>
          <propertyName>kubectlPath</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>/usr/local/bin/kubectl</value>
        </property>
        <property>
          <propertyName>logLevel</propertyName>
          <expandable>1</expandable>
          <suppressValueTracking>0</suppressValueTracking>
          <tracked>0</tracked>
          <value>INFO</value>
        </property>
      </fields>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
    </pluginConfiguration>
    <procedure>
      <procedureName>CollectDevResult</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <step>
        <stepName>Collect Dev Results</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myPipelineStageRuntime/ec_summary/dev-v2 '&lt;html&gt;&lt;a href="http://devgb.idtplateer.com/"&gt;Dev-V2&lt;/a&gt;&lt;/html&gt;'&#10;ectool setProperty /myStageRuntime/dev-v2 "http://devgb.idtplateer.com/"</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>CollectProdResult</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <step>
        <stepName>Collect Prod Results</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myPipelineStageRuntime/ec_summary/v1 '&lt;html&gt;&lt;a href="https://ci.idtplateer.com:8080/"&gt;V1&lt;/a&gt;&lt;/html&gt;'&#10;ectool setProperty /myStageRuntime/v1 "https://ci.idtplateer.com:8080/"&#10;&#10;ectool setProperty /myPipelineStageRuntime/ec_summary/v2 '&lt;html&gt;&lt;a href="https://ci.idtplateer.com:8080?canary=true/"&gt;V2&lt;/a&gt;&lt;/html&gt;'&#10;ectool setProperty /myStageRuntime/v1 "https://ci.idtplateer.com:8080?canary=true/"&#10;</command>
        <condition></condition>
        <description># https://ci.idtplateer.com:8080  &gt;&gt;  V1 로 접근&#10;# https://ci.idtplateer.com:8080?canary=true &gt;&gt; 모두 V2 로 접근</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>CollectQAResult</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <step>
        <stepName>Collect QA Results</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myPipelineStageRuntime/ec_summary/qa-v2 '&lt;html&gt;&lt;a href="http://devgb.idtplateer.com/"&gt;QA-V2&lt;/a&gt;&lt;/html&gt;'&#10;ectool setProperty /myStageRuntime/qa-v2 "http://qagb.idtplateer.com/"</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>CreateApplication</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName>default</workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <credentialProtected>0</credentialProtected>
                <tracked>0</tracked>
                <acl>
                  <inheriting>1</inheriting>
                  <tracked>0</tracked>
                </acl>
                <property>
                  <propertyName>devValues</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <credentialProtected>0</credentialProtected>
                    <tracked>0</tracked>
                    <acl>
                      <inheriting>1</inheriting>
                      <tracked>0</tracked>
                    </acl>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <suppressValueTracking>0</suppressValueTracking>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>prodValues</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <credentialProtected>0</credentialProtected>
                    <tracked>0</tracked>
                    <acl>
                      <inheriting>1</inheriting>
                      <tracked>0</tracked>
                    </acl>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <suppressValueTracking>0</suppressValueTracking>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>qaValues</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <credentialProtected>0</credentialProtected>
                    <tracked>0</tracked>
                    <acl>
                      <inheriting>1</inheriting>
                      <tracked>0</tracked>
                    </acl>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <suppressValueTracking>0</suppressValueTracking>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>devValues</formalParameterName>
        <defaultValue># -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  #   drop:&#10;  #   - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;  # requests:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |- &#10;    appendonly no&#10;&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'devgb.idtplateer.com'&#10;  hosts:&#10;    - host: 'devgb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'devgb.idtplateer.com'</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>prodValues</formalParameterName>
        <defaultValue># -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  #   drop:&#10;  #   - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;ingress:&#10;  enabled: false&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;  # requests:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |- &#10;    appendonly no&#10;  consul:&#10;    enabled: true&#10;&#10;consul:&#10;  enabled: true&#10;&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>qaValues</formalParameterName>
        <defaultValue># -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  #   drop:&#10;  #   - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;  # requests:&#10;  #   cpu: 100m&#10;  #   memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |- &#10;    appendonly no&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'qagb.idtplateer.com'&#10;  hosts:&#10;    - host: 'qagb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'qagb.idtplateer.com'</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>textarea</type>
      </formalParameter>
      <step>
        <stepName>createEnvs</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>def projName  = "$[/myProject/projectName]"&#10;def envs = ["dev","qa","prod"]&#10;def resources = []&#10;def environments = []&#10;&#10;envs.each { env -&gt;&#10;def envName = (String)"${projName}_${env}"&#10;def ns = (String)"${env}"&#10;&#10;environment envName, { &#10;  projectName = projName&#10;  &#10;  cluster envName, {&#10;    definitionParameter = [&#10;      'config': '/projects/Guestbook/pluginConfigurations/helmcfg',&#10;      'kubecontext': '',&#10;      'namespace': ns,&#10;    ]&#10;    environmentName = envName&#10;    pluginKey = 'EC-Helm'&#10;  }&#10;&#10;  utilityResource 'local', {&#10;    resourceName = 'local'&#10;  }&#10;}&#10;&#10;}</command>
        <condition></condition>
        <description>def projName  = "$[/myProject/projectName]"&#10;def envs = ["guestbook-dev","guestbook-qa","guestbook-prod"]&#10;def resources = []&#10;def environments = []&#10;&#10;envs.each { env -&gt;&#10;environment env, { &#10;  projectName = projName&#10;&#10;  cluster env, {&#10;    definitionParameter = [&#10;      'config': '/projects/Guestbook/pluginConfigurations/helmcfg',&#10;      'kubecontext': '',&#10;      'namespace': 'plateer',&#10;    ]&#10;    environmentName = env&#10;    pluginKey = 'EC-Helm'&#10;  }&#10;&#10;  utilityResource 'local', {&#10;    resourceName = 'local'&#10;  }&#10;}&#10;}</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ectool evalDsl --dslFile {0}</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
      <step>
        <stepName>createMicroservices</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>def projName = "Guestbook"&#10;def envs = ["dev","qa","prod"]&#10;def resources = []&#10;def environments = []&#10;def helmValues = ''&#10;&#10;envs.each { env -&gt;&#10;&#10;    def appName = (String)"${projName}_${env}"&#10;    def envName = (String)"${env}"&#10;    def isDev = envName.toLowerCase().contains("dev")&#10;    def isQA = envName.toLowerCase().contains("qa")&#10;&#10;    if(isDev) {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'devgb.idtplateer.com'&#10;  hosts:&#10;    - host: 'devgb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'devgb.idtplateer.com'&#10;"""&#10;    } else if (isQA) {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'qagb.idtplateer.com'&#10;  hosts:&#10;    - host: 'qagb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'qagb.idtplateer.com'&#10;"""&#10;    } else {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;ingress:&#10;  enabled: false&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;  consul:&#10;    enabled: true&#10;&#10;consul:&#10;  enabled: true&#10;&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;"""&#10;    }&#10;&#10;    application appName, {&#10;        applicationType = 'microservice'&#10;        projectName = projName&#10;&#10;        microservice appName, {&#10;            applicationName = appName&#10;&#10;            definitionSource = 'helm_repository'&#10;&#10;            definitionSourceParameter = [&#10;                'repository_credential': '/projects/Guestbook/credentials/harbor_cred',&#10;                'repositoryName': 'guestbook-repo',&#10;                'repositoryUrl': 'https://harbor.idtplateer.com/chartrepo/guestbook',&#10;            ]&#10;&#10;            definitionType = 'helm'&#10;&#10;            deployParameter = [&#10;                'additionalOptions': '--create-namespace',&#10;                'chart': 'guestbook',&#10;                'releaseName': 'my-guestbook',&#10;                'version': '0.1.0',&#10;                'values': helmValues,&#10;            ]&#10;&#10;            rollbackParameter = [&#10;                'rollbackEnabled': 'true',&#10;                'waitTimeout': '300',&#10;            ]&#10;        }&#10;&#10;        process 'Deploy Application', {&#10;            description = 'System generated process for microservice application'&#10;            applicationName = appName&#10;            processType = 'DEPLOY'&#10;            formalParameter 'ec_Guestbook-run', defaultValue: '1', {&#10;                expansionDeferred = '1'&#10;                type = 'checkbox'&#10;            }&#10;            &#10;            property 'ec_deploy', {&#10;                ec_notifierStatus = '0'&#10;            }&#10;        }&#10;&#10;        process 'Uninstall Application', {&#10;            applicationName = appName&#10;            exclusiveEnvironment = '0'&#10;            processType = 'UNDEPLOY'&#10;            workspaceName = 'default'&#10;&#10;            processStep 'Delete Release', {&#10;                actualParameter = [&#10;                    'actionOnError': '0',&#10;                    'config': '/projects/Guestbook/pluginConfigurations/helmcfg',&#10;                    'errorValue': '',&#10;                    'options': (String)"-n ${envName}",&#10;                    'releaseName': 'my-guestbook',&#10;                    'resultPropertySheet': '/myJob/deleteRelease',&#10;                ]&#10;                dependencyJoinType = 'and'&#10;                processStepType = 'plugin'&#10;                subprocedure = 'Delete Release'&#10;                subproject = '/plugins/EC-Helm/project'&#10;&#10;                property 'ec_deploy', {&#10;                    ec_notifierStatus = '0'&#10;                }&#10;            }&#10;&#10;            processStep 'Delete PVC', {&#10;                actualParameter = [&#10;                    'commandToRun': (String)"""&#10;                    kubectl delete pvc -l app.kubernetes.io/instance=my-guestbook -n ${envName}&#10;                    kubectl delete ns ${envName}&#10;                    """,&#10;                ]&#10;                dependencyJoinType = 'and'&#10;                processStepType = 'command'&#10;                subprocedure = 'RunCommand'&#10;                subproject = '/plugins/EC-Core/project'&#10;                useUtilityResource = '1'&#10;                utilityResourceName = 'local'&#10;                property 'ec_deploy', {&#10;                    ec_notifierStatus = '0'&#10;                }&#10;            }&#10;&#10;            createProcessDependency componentApplicationName: appName,&#10;                processStepName: 'Delete Release',&#10;                targetProcessStepName: 'Delete PVC'&#10;&#10;            property 'ec_deploy', {&#10;                ec_notifierStatus = '0'&#10;            }&#10;        }&#10;&#10;        property 'ec_deploy', {&#10;            ec_notifierStatus = '0'&#10;        }&#10;    }&#10;&#10;}</command>
        <condition></condition>
        <description>def projName = "Guestbook"&#10;def envs = ["dev","qa","prod"]&#10;def resources = []&#10;def environments = []&#10;def helmValues = ''&#10;&#10;envs.each { env -&gt;&#10;&#10;    def appName = (String)"${projName}_${env}"&#10;    def envName = (String)"${env}"&#10;    def isDev = envName.toLowerCase().contains("dev")&#10;    def isQA = envName.toLowerCase().contains("qa")&#10;&#10;    if(isDev) {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'devgb.idtplateer.com'&#10;  hosts:&#10;    - host: 'devgb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'devgb.idtplateer.com'&#10;"""&#10;    } else if (isQA) {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;consul:&#10;  enabled: false&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;&#10;&#10;ingress:&#10;  enabled: true&#10;  ingressClassName: 'guestbook'&#10;  annotations:&#10;    alb.ingress.kubernetes.io/load-balancer-name: 'guestbook'&#10;    alb.ingress.kubernetes.io/scheme: 'internet-facing'&#10;    alb.ingress.kubernetes.io/target-type: ip&#10;    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80,"HTTPS":443}]'&#10;    alb.ingress.kubernetes.io/certificate-arn: 'arn:aws:acm:ap-northeast-2:960249453675:certificate/3915d0da-6dd2-4384-8fb0-558b25bf1ff4'&#10;    alb.ingress.kubernetes.io/ssl-policy: 'ELBSecurityPolicy-TLS-1-2-Ext-2018-06'&#10;    alb.ingress.kubernetes.io/actions.ssl-redirect: '443'&#10;    external-dns.alpha.kubernetes.io/hostname: 'qagb.idtplateer.com'&#10;  hosts:&#10;    - host: 'qagb.idtplateer.com'&#10;      paths:&#10;        - path: "/"&#10;          pathType: Prefix&#10;  tls:&#10;    - hosts:&#10;      - 'qagb.idtplateer.com'&#10;"""&#10;    } else {&#10;      helmValues = (String)"""&#10;# -- Override the name of the chart.&#10;nameOverride: ""&#10;# -- Override the fullname of the chart.&#10;fullnameOverride: ""&#10;&#10;# -- Replica count.&#10;replicaCount: 1&#10;&#10;image:&#10;  # -- Image repository.&#10;  repository: gcr.io/google-samples/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: v5&#10;&#10;# -- Image pull secrets.&#10;imagePullSecrets: []&#10;&#10;serviceAccount:&#10;  # -- Specifies whether a service account should be created.&#10;  create: true&#10;  # -- Annotations to add to the service account.&#10;  annotations: {}&#10;  # If not set and create is true, a name is generated using the fullname template&#10;  # -- The name of the service account to use.&#10;  name: ""&#10;&#10;# -- Annotations to add to the pod.&#10;podAnnotations: {}&#10;&#10;# -- Security context for the pod.&#10;podSecurityContext: {}&#10;  # fsGroup: 2000&#10;&#10;# -- Security context for the container.&#10;securityContext: {}&#10;  # capabilities:&#10;  # drop:&#10;  # - ALL&#10;  # readOnlyRootFilesystem: true&#10;  # runAsNonRoot: true&#10;  # runAsUser: 1000&#10;&#10;&#10;service:&#10;  # -- Service type.&#10;  type: ClusterIP&#10;  # -- Service port.&#10;  port: 80&#10;&#10;ingress:&#10;  enabled: false&#10;&#10;# -- Resource requests and limits.&#10;resources: {}&#10;  # We usually recommend not to specify default resources and to leave this as a conscious&#10;  # choice for the user. This also increases chances charts run on environments with little&#10;  # resources, such as Minikube. If you do want to specify resources, uncomment the following&#10;  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.&#10;  # limits:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;  # requests:&#10;  # cpu: 100m&#10;  # memory: 128Mi&#10;&#10;autoscaling:&#10;  # -- If true, create a HPA for the deployment.&#10;  enabled: false&#10;  # -- Minimum number of pod replicas.&#10;  minReplicas: 1&#10;  # -- Maximum number of pod replicas.&#10;  maxReplicas: 10&#10;  # -- Target CPU utilisation for the pod.&#10;  targetCPUUtilizationPercentage: 50&#10;  # -- Target memory utilisation for the pod.&#10;  targetMemoryUtilizationPercentage: 50&#10;&#10;# -- Node labels for pod assignment.&#10;nodeSelector: {}&#10;&#10;# -- Tolerations for pod assignment.&#10;tolerations: []&#10;&#10;# -- Affinity for pod assignment.&#10;affinity: {}&#10;&#10;redis:&#10;  architecture: standalone&#10;  enabled: true&#10;  auth:&#10;    enabled: false&#10;  master:&#10;    persistence:&#10;      enabled: true&#10;  commonConfiguration: |-&#10;    appendonly no&#10;  consul:&#10;    enabled: true&#10;&#10;consul:&#10;  enabled: true&#10;&#10;&#10;imagenew:&#10;  # -- Image repository.&#10;  repository: harbor.idtplateer.com/guestbook/gb-frontend&#10;  # -- Image pull policy.&#10;  pullPolicy: IfNotPresent&#10;  # -- Image tag.&#10;  tag: latest&#10;"""&#10;    }&#10;&#10;    application appName, {&#10;        applicationType = 'microservice'&#10;        projectName = projName&#10;&#10;        microservice appName, {&#10;            applicationName = appName&#10;&#10;            definitionSource = 'helm_repository'&#10;&#10;            definitionSourceParameter = [&#10;                'repository_credential': '/projects/Guestbook/credentials/harbor_cred',&#10;                'repositoryName': 'guestbook-repo',&#10;                'repositoryUrl': 'https://harbor.idtplateer.com/chartrepo/guestbook',&#10;            ]&#10;&#10;            definitionType = 'helm'&#10;&#10;            deployParameter = [&#10;                'additionalOptions': '--create-namespace',&#10;                'chart': 'guestbook',&#10;                'releaseName': 'my-guestbook',&#10;                'version': '0.1.0',&#10;                'values': helmValues,&#10;            ]&#10;&#10;            rollbackParameter = [&#10;                'rollbackEnabled': 'true',&#10;                'waitTimeout': '300',&#10;            ]&#10;&#10;            process 'Deploy Microservice Process', {&#10;                description = 'System generated process for microservice deployment'&#10;                microserviceName = appName&#10;                processType = 'DEPLOY'&#10;                processStep 'Retrieve Artifact', {&#10;                    description = 'System generated step to retrieve microservice definition artifact'&#10;                    processStepType = 'plugin'&#10;                    subprocedure = 'Source Provider'&#10;                    subproject = '/plugins/EC-Helm/project'&#10;                }&#10;&#10;                processStep 'Deploy Microservice', {&#10;                    description = 'System generated step to deploy microservice'&#10;                    processStepType = 'plugin'&#10;                    subprocedure = 'Deploy Service'&#10;                    subproject = '/plugins/EC-Helm/project'&#10;                }&#10;                createProcessDependency componentApplicationName: appName,&#10;                                    processStepName: 'Retrieve Artifact',&#10;                                    targetProcessStepName: 'Deploy Microservice'&#10;            }&#10;        }&#10;&#10;        process 'Deploy Application', {&#10;            description = 'System generated process for microservice application'&#10;            applicationName = appName&#10;            processType = 'DEPLOY'&#10;            formalParameter 'ec_Guestbook-run', defaultValue: '1', {&#10;                expansionDeferred = '1'&#10;                type = 'checkbox'&#10;            }&#10;            &#10;            property 'ec_deploy', {&#10;                ec_notifierStatus = '0'&#10;            }&#10;        }&#10;&#10;        process 'Uninstall Application', {&#10;            applicationName = appName&#10;            exclusiveEnvironment = '0'&#10;            processType = 'UNDEPLOY'&#10;            workspaceName = 'default'&#10;&#10;            processStep 'Delete Release', {&#10;                actualParameter = [&#10;                    'actionOnError': '0',&#10;                    'config': '/projects/Guestbook/pluginConfigurations/helmcfg',&#10;                    'errorValue': '',&#10;                    'options': (String)"-n ${envName}",&#10;                    'releaseName': 'my-guestbook',&#10;                    'resultPropertySheet': '/myJob/deleteRelease',&#10;                ]&#10;                dependencyJoinType = 'and'&#10;                processStepType = 'plugin'&#10;                subprocedure = 'Delete Release'&#10;                subproject = '/plugins/EC-Helm/project'&#10;&#10;                property 'ec_deploy', {&#10;                    ec_notifierStatus = '0'&#10;                }&#10;            }&#10;&#10;            processStep 'Delete PVC', {&#10;                actualParameter = [&#10;                    'commandToRun': (String)"""&#10;                    kubectl delete pvc -l app.kubernetes.io/instance=my-guestbook -n ${envName}&#10;                    kubectl delete ns ${envName}&#10;                    """,&#10;                ]&#10;                dependencyJoinType = 'and'&#10;                processStepType = 'command'&#10;                subprocedure = 'RunCommand'&#10;                subproject = '/plugins/EC-Core/project'&#10;                useUtilityResource = '1'&#10;                utilityResourceName = 'local'&#10;                property 'ec_deploy', {&#10;                    ec_notifierStatus = '0'&#10;                }&#10;            }&#10;&#10;            createProcessDependency componentApplicationName: appName,&#10;                processStepName: 'Delete Release',&#10;                targetProcessStepName: 'Delete PVC'&#10;&#10;            property 'ec_deploy', {&#10;                ec_notifierStatus = '0'&#10;            }&#10;        }&#10;&#10;        property 'ec_deploy', {&#10;            ec_notifierStatus = '0'&#10;        }&#10;    }&#10;&#10;}</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ectool evalDsl --dslFile {0}</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
      <step>
        <stepName>createEnvMapping</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>def projName  = "$[/myProject/projectName]"&#10;def envs = ["dev","qa","prod"]&#10;def resources = []&#10;def environments = []&#10;&#10;envs.each { env -&gt;&#10;def appName = (String)"${projName}_${env}"&#10;def tierMapName = (String)"${projName}_${env}_map" &#10;def envName = (String)"${projName}_${env}"&#10;&#10;application appName, { &#10;  applicationType = 'microservice'&#10;  projectName = projName&#10;&#10;  tierMap tierMapName, {&#10;    applicationName = appName&#10;    environmentName = envName&#10;    environmentProjectName = projName&#10;    microserviceMapping tierMapName, {&#10;      clusterName = envName&#10;      clusterProjectName = projName&#10;      microserviceName = appName&#10;      tierMapName = tierMapName&#10;    }&#10;  }&#10;}&#10;&#10;}</command>
        <condition></condition>
        <description>def projName  = "$[/myProject/projectName]"&#10;def envs = ["guestbook-dev","guestbook-qa","guestbook-prod"]&#10;def resources = []&#10;def environments = []&#10;&#10;envs.each { env -&gt;&#10;environment env, { &#10;  projectName = projName&#10;&#10;  cluster env, {&#10;    definitionParameter = [&#10;      'config': '/projects/Guestbook/pluginConfigurations/helmcfg',&#10;      'kubecontext': '',&#10;      'namespace': 'plateer',&#10;    ]&#10;    environmentName = env&#10;    pluginKey = 'EC-Helm'&#10;  }&#10;&#10;  utilityResource 'local', {&#10;    resourceName = 'local'&#10;  }&#10;}&#10;}</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ectool evalDsl --dslFile {0}</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>CreatePipeline</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName>default</workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <step>
        <stepName>createPipeline</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>def projName  = "$[/myProject/projectName]"&#10;def pipeName = "$[/myProject/projectName]_Pipeline"&#10;def envs = ["dev","qa","prod"]&#10;&#10;pipeline pipeName, {&#10;  projectName = projName&#10;&#10;  formalParameter 'ec_stagesToRun', {&#10;    expansionDeferred = '1'&#10;  }&#10;  &#10;  envs.each { env -&gt;&#10;  &#10;    def envName = (String)"${projName}_${env}"&#10;    def isDev = env.toLowerCase().contains("dev")&#10;    def isQA = env.toLowerCase().contains("qa")&#10;    def isProd = env.toLowerCase().contains("prod")&#10;    def stageColor = ''&#10;    def stageName = ''&#10;    def deployAppDispName = ''&#10;    def collectQAResultDispName = ''&#10;    def undeployAppDispName = ''&#10;&#10;    if(isDev) {&#10;        stageColor = '#ff7f0e'&#10;        stageName = "Dev"&#10;        deployAppDispName = "Deploy Dev App"&#10;        collectQAResultDispName = "Collect Dev Result"&#10;        undeployAppDispName = "Undeploy Dev App"&#10;    } else if (isQA) {&#10;        stageColor = '#2ca02c'&#10;        stageName = "QA"&#10;        deployAppDispName = "Deploy QA App"&#10;        collectQAResultDispName = "Collect QA Result"&#10;        undeployAppDispName = "Undeploy QA App"&#10;    } else {&#10;        stageColor = '#289ce1'&#10;        stageName = "Production"&#10;        deployAppDispName = "Deploy Prod App"&#10;        collectQAResultDispName = "Collect Prod Result"&#10;        undeployAppDispName = "Undeploy Prod App"&#10;    }&#10;&#10;    stage stageName, {&#10;        colorCode = stageColor&#10;        pipelineName = pipeName&#10;        gate 'PRE', {&#10;        }&#10;&#10;        gate 'POST', {&#10;        }&#10;&#10;        task deployAppDispName, {&#10;            environmentName = envName&#10;            environmentProjectName = projName&#10;            rollingDeployEnabled = '0'&#10;            subapplication = envName&#10;            subprocess = 'Deploy Application'&#10;            subproject = projName&#10;            taskProcessType = 'APPLICATION'&#10;            taskType = 'PROCESS'&#10;        }&#10;    &#10;        task collectQAResultDispName, {&#10;            description = ''&#10;            taskType = 'PROCEDURE'&#10;            subproject = 'Guestbook'&#10;            subprocedure = 'CollectQAResult'&#10;            errorHandling = 'stopOnError'&#10;        }&#10;        &#10;        task 'Check Result', {&#10;            taskType = 'MANUAL'&#10;            approver = [&#10;              'admin',&#10;            ]&#10;        }        &#10;        &#10;        task undeployAppDispName, {&#10;            environmentName = envName&#10;            environmentProjectName = projName&#10;            rollingDeployEnabled = '0'&#10;            subapplication = envName&#10;            subprocess = 'Uninstall Application'&#10;            subproject = projName&#10;            taskProcessType = 'APPLICATION'&#10;            taskType = 'PROCESS'&#10;        }        &#10;    }&#10;  }&#10;}</command>
        <condition></condition>
        <description>def projName  = "$[/myProject/projectName]"&#10;def pipeName = "$[/myProject/projectName]_Pipeline"&#10;def envs = ["dev","qa","prod"]&#10;&#10;pipeline pipeName, {&#10;  projectName = projName&#10;&#10;  formalParameter 'ec_stagesToRun', {&#10;    expansionDeferred = '1'&#10;  }&#10;  &#10;  envs.each { env -&gt;&#10;  &#10;    def envName = (String)"${projName}_${env}"&#10;    def isDev = env.toLowerCase().contains("dev")&#10;    def isQA = env.toLowerCase().contains("qa")&#10;    def isProd = env.toLowerCase().contains("prod")&#10;    def stageColor = ''&#10;    def stageName = ''&#10;&#10;    if(isDev) {&#10;        stageColor = '#ff7f0e'&#10;        stageName = "Dev"&#10;    } else if (isQA) {&#10;        stageColor = '#2ca02c'&#10;        stageName = "QA"&#10;    } else {&#10;        stageColor = '#289ce1'&#10;        stageName = "Production"&#10;    }&#10;&#10;    stage stageName, {&#10;        colorCode = stageColor&#10;        pipelineName = pipeName&#10;        gate 'PRE', {&#10;        }&#10;&#10;        gate 'POST', {&#10;        }&#10;&#10;        task 'Deploy App', {&#10;        environmentName = envName&#10;        environmentProjectName = projName&#10;        rollingDeployEnabled = '0'&#10;        subapplication = envName&#10;        subprocess = 'Deploy Application'&#10;        subproject = projName&#10;        taskProcessType = 'APPLICATION'&#10;        taskType = 'PROCESS'&#10;        }&#10;    }&#10;  }&#10;}</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ectool evalDsl --dslFile {0}</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>FunctionalTests</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <step>
        <stepName>Functional Test</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>echo functions test</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
      </step>
    </procedure>
    <pipeline>
      <pipelineName>Test</pipelineName>
      <description></description>
      <disableMultipleActiveRuns>0</disableMultipleActiveRuns>
      <disableRestart>0</disableRestart>
      <overrideWorkspace>0</overrideWorkspace>
      <pipelineEnabled>1</pipelineEnabled>
      <skipStageMode>ENABLED</skipStageMode>
      <tracked>0</tracked>
      <acl>
        <inheriting>1</inheriting>
        <tracked>0</tracked>
      </acl>
      <flow>
        <flowName>458a97f8-bdbe-11ed-88e6-024a035405d8_pipelineflow</flowName>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
        <flowState>
          <flowStateName>050d4df4-b8db-11ed-81dd-029890443bb4_stage_flow_state</flowStateName>
          <advancedMode>0</advancedMode>
          <alwaysRun>0</alwaysRun>
          <colorCode>#289ce1</colorCode>
          <deployerTask>0</deployerTask>
          <description>stage flow step</description>
          <flowStateType>task</flowStateType>
          <index>0</index>
          <keepOnError>0</keepOnError>
          <subflow>458abf1c-bdbe-11ed-88e6-024a035405d8_stageflow</subflow>
          <tracked>0</tracked>
          <useApproverAcl>0</useApproverAcl>
          <waitForCompletion>0</waitForCompletion>
          <waitForPlannedStart>0</waitForPlannedStart>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
          </propertySheet>
        </flowState>
      </flow>
      <propertySheet>
        <credentialProtected>0</credentialProtected>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
      </propertySheet>
      <formalParameter>
        <formalParameterName>ec_stagesToRun</formalParameterName>
        <expansionDeferred>1</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
      </formalParameter>
      <stage>
        <stageName>Stage 1</stageName>
        <completed>0</completed>
        <completionType>auto</completionType>
        <flowStateName>050d4df4-b8db-11ed-81dd-029890443bb4_stage_flow_state</flowStateName>
        <pipelineName>Test</pipelineName>
        <tracked>0</tracked>
        <acl>
          <inheriting>1</inheriting>
          <tracked>0</tracked>
        </acl>
        <flow>
          <flowName>458abf1c-bdbe-11ed-88e6-024a035405d8_stageflow</flowName>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
          </propertySheet>
          <flowState>
            <flowStateName>0a5aba1f-b8db-11ed-a4e4-029890443bb4_task_flow_state</flowStateName>
            <advancedMode>0</advancedMode>
            <alwaysRun>0</alwaysRun>
            <deployerTask>1</deployerTask>
            <description></description>
            <errorHandling>stopOnError</errorHandling>
            <flowStateType>task</flowStateType>
            <index>0</index>
            <keepOnError>0</keepOnError>
            <resourceName></resourceName>
            <runType>serial</runType>
            <tracked>0</tracked>
            <useApproverAcl>0</useApproverAcl>
            <waitForCompletion>0</waitForCompletion>
            <waitForPlannedStart>0</waitForPlannedStart>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
            <propertySheet>
              <credentialProtected>0</credentialProtected>
              <tracked>0</tracked>
              <acl>
                <inheriting>1</inheriting>
                <tracked>0</tracked>
              </acl>
            </propertySheet>
          </flowState>
        </flow>
        <propertySheet>
          <credentialProtected>0</credentialProtected>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
        </propertySheet>
        <gate>
          <gateName>458b0d4e-bdbe-11ed-88e6-024a035405d8</gateName>
          <gateType>PRE</gateType>
          <stageName>Stage 1</stageName>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
          </propertySheet>
        </gate>
        <gate>
          <gateName>458b0d54-bdbe-11ed-88e6-024a035405d8</gateName>
          <gateType>POST</gateType>
          <stageName>Stage 1</stageName>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
          </propertySheet>
        </gate>
        <task>
          <taskName>Test</taskName>
          <allowOutOfOrderRun>0</allowOutOfOrderRun>
          <description></description>
          <flowStateName>0a5aba1f-b8db-11ed-a4e4-029890443bb4_task_flow_state</flowStateName>
          <taskEnabled>1</taskEnabled>
          <taskSkippable>0</taskSkippable>
          <taskType>DEPLOYER</taskType>
          <tracked>0</tracked>
          <acl>
            <inheriting>1</inheriting>
            <tracked>0</tracked>
          </acl>
          <propertySheet>
            <credentialProtected>0</credentialProtected>
            <tracked>0</tracked>
            <acl>
              <inheriting>1</inheriting>
              <tracked>0</tracked>
            </acl>
          </propertySheet>
        </task>
      </stage>
    </pipeline>
  </project>
</exportedData>
